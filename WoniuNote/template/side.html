<div class="col-sm-3 col-12" style="padding: 0px 10px;">
    <div class="col-12 search-bar form-group row">
        <div class="col-8">
            <input type="text" class="form-control" id="keyword" placeholder="请输入关键字" onkeydown="doSearch(event)"/>
        </div>
        <div class="col-4" style="text-align:right;">
            <button type="button" class="btn btn-primary" onclick="doSearch()">搜索</button>
        </div>
    </div>

    <div class="col-12 side">
        <div class="tip">最新文章</div>
        <ul>
            {% for row in last%}
                <li><a href="/article/{{ row.articleid }}">{{ loop.index }}. {{ row.headline| truncate(15) }}</a></li>
            {% endfor %}

        </ul>
    </div>

    <div class="col-12 side">
        <div class="tip">特别推荐</div>
        <ul>
            {% for row in recommended %}
                <li><a href="/article/{{ row.articleid }}">{{ loop.index }}. {{ row.headline| truncate(15) }}</a></li>
            {% endfor %}

        </ul>
    </div>
</div>
<script type="text/javascript">
    function doSearch(e) {
        {#alert(e.keyCode)#}
        if (e != null && e.keyCode  != 13) {
            return false
        }

        keyword = $.trim($("#keyword").val())
        if (keyword.length == 0 || keyword.length > 10 || keyword.indexOf('%') >= 0) {
            {#window.alert("你搜索的关键字不合法")#}
            bootbox.alert("你搜索的关键字不合法")
            $("#keyword").focus()
            return false
        }
        location.href = '/search/1-' + keyword
    }

</script>